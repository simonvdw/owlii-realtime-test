<h1>
  <span class="hey">Hey</span> <span class="owly">Owly</span>
</h1>

<div class="owl-image">
  <img src="assets/owly.png" alt="OWLY de wijze uil">
</div>

<nav class="main-nav">
  <a href="/" class="nav-item active">ğŸ  Babbel</a>
  <a href="/extras" class="nav-item">ğŸ® Extra's</a>
</nav>

<p class="subtitle">Babbel, leer en speel met OWLY, jouw slimme uilvriend!</p>

<div id="userInfoDisplay">
  <div class="user-info-compact">
    <div class="user-text">
      Hoi <span id="displayName"></span>! ğŸ‘‹ (<span id="displayAge"></span> jaar)
    </div>
    <button class="edit-icon-button" onclick="editUserInfo()" aria-label="Gegevens aanpassen">âœï¸</button>
  </div>
</div>

<!-- Conversation Type Carousel -->
<div id="conversationTypeCarousel" class="conversation-carousel">
  <button class="carousel-arrow carousel-arrow-left" id="carouselLeft" aria-label="Vorige gesprekstype">
    â—€
  </button>
  <div class="carousel-content">
    <div class="conversation-type active" data-type="standaard">
      <span class="type-icon">ğŸ’¬</span>
      <span class="type-name">Standaard Bijkletsen</span>
    </div>
    <div class="conversation-type" data-type="verhaaltjes">
      <span class="type-icon">ğŸ“–</span>
      <span class="type-name">Verhaaltjes</span>
    </div>
    <div class="conversation-type" data-type="raadsels">
      <span class="type-icon">ğŸ§©</span>
      <span class="type-name">Raadsels</span>
    </div>
    <div class="conversation-type" data-type="mopjes">
      <span class="type-icon">ğŸ˜„</span>
      <span class="type-name">Mopjes</span>
    </div>
    <div class="conversation-type" data-type="praatover">
      <span class="type-icon">ğŸ’­</span>
      <span class="type-name">Praat over ...</span>
      <div class="topic-input-container">
        <input
          type="text"
          id="topicInput"
          class="topic-input"
          placeholder="Bijv. dinosaurussen, ruimte, ..."
          maxlength="50"
        />
        <button
          id="clearTopicButton"
          class="clear-topic-button"
          style="display: none;"
          aria-label="Wis onderwerp"
          title="Wis onderwerp"
        >
          âœ•
        </button>
      </div>
      <div class="topic-badge-container" style="display: none;">
        <div class="topic-badge">
          <span class="topic-badge-text" id="topicBadgeText"></span>
          <button
            id="removeBadgeButton"
            class="remove-badge-button"
            aria-label="Wis onderwerp"
            title="Wis onderwerp"
          >
            âœ•
          </button>
        </div>
      </div>
    </div>
  </div>
  <button class="carousel-arrow carousel-arrow-right" id="carouselRight" aria-label="Volgende gesprekstype">
    â–¶
  </button>
</div>

<div id="welcomeForm">
  <form id="startForm">
    <div class="form-group">
      <label for="nameInput">Wat is je voornaam?</label>
      <input
        type="text"
        id="nameInput"
        placeholder="Jouw voornaam"
        required
      />
    </div>

    <div class="form-group">
      <label for="ageInput">Hoe oud ben je?</label>
      <select id="ageInput" required>
        <option value="">Kies je leeftijd</option>
        <option value="6">6 jaar</option>
        <option value="7">7 jaar</option>
        <option value="8">8 jaar</option>
        <option value="9">9 jaar</option>
        <option value="10">10 jaar</option>
        <option value="11">11 jaar</option>
        <option value="12">12 jaar</option>
      </select>
    </div>

    <div class="form-group">
      <label for="betaCodeInput">Toegangscode</label>
      <input
        type="password"
        id="betaCodeInput"
        placeholder="â€¢â€¢â€¢â€¢â€¢â€¢"
        required
      />
    </div>

    <button type="submit">Start je avontuur met OWLY! ğŸš€</button>
  </form>
</div>

<div id="chatInterface">
  <p id="status">Nog niet verbonden.</p>


  <div id="pushToTalkContainer" style="margin: 2rem 0; display: none;">
    <button id="pressToTalkButton" disabled aria-label="Houd ingedrukt om te praten">
      <svg class="wave-icon" viewBox="0 0 120 120" role="img" aria-hidden="true">
        <rect x="18" y="30" width="14" height="60" rx="7"></rect>
        <rect x="38" y="18" width="14" height="84" rx="7"></rect>
        <rect x="58" y="8" width="14" height="104" rx="7"></rect>
        <rect x="78" y="18" width="14" height="84" rx="7"></rect>
        <rect x="98" y="30" width="14" height="60" rx="7"></rect>
      </svg>
    </button>
  </div>


  <div class="chat-buttons">
    <button id="stopButton" style="display: none;">Stop gesprek</button>
    <button id="talkButton">Start gesprek</button>
  </div>

  <div style="display: flex; gap: 1rem; justify-content: center; align-items: center; flex-wrap: wrap;">
    <a href="#" id="toggleLogs" class="toggle-logs-link" style="display: none;">Toon logs</a>
    <a href="#" id="toggleAdvanced" class="toggle-logs-link" style="display: none;">Geavanceerd</a>
  </div>

  <div id="advancedPanel" style="display: none; margin-top: 1rem; padding: 1rem; background: rgba(90, 140, 80, 0.08); border-radius: 0.75rem; border: 1px solid rgba(90, 140, 80, 0.2);">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
      <h3 style="font-size: 0.9rem; font-weight: 600; color: #6f4f44; margin: 0;">Geavanceerde instellingen</h3>
      <button id="closeAdvanced" style="background: transparent; border: none; color: #8b7355; cursor: pointer; font-size: 1.2rem; padding: 0; width: auto; margin: 0; line-height: 1;" aria-label="Sluit geavanceerd">âœ•</button>
    </div>

    <div class="form-group" style="margin-bottom: 0;">
      <label style="font-size: 0.85rem; margin-bottom: 0.5rem;">Microfoon modus</label>
      <div style="display: flex; gap: 0.5rem; background: white; padding: 0.25rem; border-radius: 0.75rem; border: 2px solid rgba(90, 140, 80, 0.2);">
        <button id="modePushToTalk" class="mode-toggle-btn active" data-mode="push-to-talk" style="flex: 1; padding: 0.5rem 1rem; border: none; border-radius: 0.5rem; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; background: linear-gradient(135deg, #5a8c50 0%, #4a7543 100%); color: white; width: auto; margin: 0;">
          ğŸ™ï¸ Push-to-talk
        </button>
        <button id="modeOpenMic" class="mode-toggle-btn" data-mode="open-mic" style="flex: 1; padding: 0.5rem 1rem; border: none; border-radius: 0.5rem; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; background: transparent; color: #6f4f44; width: auto; margin: 0;">
          ğŸ”Š Open mic
        </button>
      </div>
      <p style="font-size: 0.7rem; color: #8b7355; margin-top: 0.5rem; font-style: italic;">
        <span id="modeDescription">Houd de knop ingedrukt om te praten</span>
      </p>
    </div>
  </div>

  <div id="log" style="display: none;"></div>
</div>

